<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>useArrayState</title><meta name="next-head-count" content="3"/><link rel="preload" href="/react-hooks/_next/static/css/f8fb437c03dd2c89bebe.css" as="style"/><link rel="stylesheet" href="/react-hooks/_next/static/css/f8fb437c03dd2c89bebe.css" data-n-g=""/><link rel="preload" href="/react-hooks/_next/static/css/acc1ea5919828c151cb7.css" as="style"/><link rel="stylesheet" href="/react-hooks/_next/static/css/acc1ea5919828c151cb7.css" data-n-p=""/><noscript data-n-css="true"></noscript><link rel="preload" href="/react-hooks/_next/static/chunks/main-f1459b68c8c907bbd233.js" as="script"/><link rel="preload" href="/react-hooks/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" as="script"/><link rel="preload" href="/react-hooks/_next/static/chunks/framework.7d91cd19cc652e9e19c9.js" as="script"/><link rel="preload" href="/react-hooks/_next/static/chunks/1716b4ef16106aa9110b245fed37a9e97a824466.0339978583eb908efd51.js" as="script"/><link rel="preload" href="/react-hooks/_next/static/chunks/pages/_app-9bbdd6d69f71956355ef.js" as="script"/><link rel="preload" href="/react-hooks/_next/static/chunks/d483bfa8ce43c621766e248c0ef9884ca2ca3c41.bd31260972853285d1b6.js" as="script"/><link rel="preload" href="/react-hooks/_next/static/chunks/55beffb9abe913b6a2709c9d07185ba46a4b42d3.c8a6d729c62df7c8ff03.js" as="script"/><link rel="preload" href="/react-hooks/_next/static/chunks/pages/use-array-state-4060b39abfdf4f1a1bfe.js" as="script"/></head><body><div id="__next"><div id="layout"><nav><a href="/react-hooks"><h2>Hooks</h2></a><a class=" selected" href="/react-hooks/use-array-state">useArrayState</a><a class="" href="/react-hooks/use-boolean-state">useBooleanState</a></nav><main><h1>useArrayState</h1><p><code>useArrayState</code> is similar to <code>useState</code>, but with added functionality for manipulating arrays. It returns the same<!-- --> <code>[state, setState]</code> pair as <code>useState</code>, but there are additional methods available on <code>setState</code>. For example, to insert a new element an the end of the array, call<!-- --> <code>setState.append(&#x27;value&#x27;)</code> and to remove the first element call <code>setState.removeAt(0)</code>.</p><a href="https://github.com/ClaveConsulting/react-hooks/tree/master/hooks/use-array-state">Source code</a><p></p><pre style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0;overflow:auto;background:#1e1e1e"><code class="language-shell" style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">1</span><span class="token" style="color:#dcdcaa">npm</span><span> </span><span class="token" style="color:#dcdcaa">install</span><span> @clave/use-array-state</span></code></pre><p></p><div><div class="Tabs_tabs__2MZIJ"><button class="Tabs_tab__7GjgH Tabs_selected__1Sm-v Tabs_white__Z52MD">Demo</button><button class="Tabs_tab__7GjgH">Source (TS)</button><button class="Tabs_tab__7GjgH">Source (JS)</button></div><div class="Tabs_container__2ePVH"><div class="Cols_cols__3vHy9"><div class="style_demo__359_y"><div><h2>todos</h2><ul></ul><form><input value=""/><button type="submit" disabled="">Add</button></form></div></div><div><div class="Tabs_tabs__2MZIJ"><button class="Tabs_tab__7GjgH Tabs_selected__1Sm-v">TypeScript</button><button class="Tabs_tab__7GjgH">JavaScript</button></div><div class="Tabs_container__2ePVH"><pre style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0;overflow:auto;background:#1e1e1e"><code class="language-tsx" style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">1</span><span class="token" style="color:#c586c0">import</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span> </span><span class="token maybe-class-name">FormEvent</span><span class="token" style="color:#d4d4d4">,</span><span> useCallback</span><span class="token" style="color:#d4d4d4">,</span><span> useState </span><span class="token" style="color:#d4d4d4">}</span><span> </span><span class="token" style="color:#c586c0">from</span><span> </span><span class="token" style="color:#ce9178">&quot;react&quot;</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">2</span><span></span><span class="token" style="color:#c586c0">import</span><span> useArrayState </span><span class="token" style="color:#c586c0">from</span><span> </span><span class="token" style="color:#ce9178">&quot;use-array-state&quot;</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">3</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">4</span><span></span><span class="token" style="color:#c586c0">interface</span><span> </span><span class="token maybe-class-name" style="color:#4EC9B0">TodoItem</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">5</span><span>  </span><span class="token" style="color:#c586c0">readonly</span><span> description</span><span class="token" style="color:#d4d4d4;background:#1e1e1e">:</span><span> </span><span class="token" style="color:#ce9178">string</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">6</span><span>  </span><span class="token" style="color:#c586c0">readonly</span><span> done</span><span class="token" style="color:#d4d4d4;background:#1e1e1e">:</span><span> </span><span class="token" style="color:#ce9178">boolean</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">7</span><span></span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">8</span><span></span><span class="token" style="color:#c586c0">export</span><span> </span><span class="token" style="color:#c586c0">default</span><span> </span><span class="token" style="color:#c586c0">function</span><span> </span><span class="token maybe-class-name" style="color:#dcdcaa">Demo</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">9</span><span>  </span><span class="token" style="color:#c586c0">const</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span>items</span><span class="token" style="color:#d4d4d4">,</span><span> setItems</span><span class="token" style="color:#d4d4d4">]</span><span> </span><span class="token" style="color:#d4d4d4;background:#1e1e1e">=</span><span> </span><span class="token generic-function" style="color:#dcdcaa">useArrayState</span><span class="token generic-function generic" style="color:#4EC9B0">&lt;</span><span class="token generic-function generic maybe-class-name" style="color:#4EC9B0">TodoItem</span><span class="token generic-function generic" style="color:#4EC9B0">&gt;</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">10</span><span>  </span><span class="token" style="color:#c586c0">const</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span>value</span><span class="token" style="color:#d4d4d4">,</span><span> setValue</span><span class="token" style="color:#d4d4d4">]</span><span> </span><span class="token" style="color:#d4d4d4;background:#1e1e1e">=</span><span> </span><span class="token" style="color:#dcdcaa">useState</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&quot;&quot;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">11</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">12</span><span>  </span><span class="token" style="color:#c586c0">const</span><span> submit </span><span class="token" style="color:#d4d4d4;background:#1e1e1e">=</span><span> </span><span class="token" style="color:#dcdcaa">useCallback</span><span class="token" style="color:#d4d4d4">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">13</span><span>    </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9CDCFE">e</span><span class="token" style="color:#d4d4d4;background:#1e1e1e">:</span><span class="token" style="color:#9CDCFE"> </span><span class="token maybe-class-name" style="color:#9CDCFE">FormEvent</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token arrow" style="color:#d4d4d4;background:#1e1e1e">=&gt;</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">14</span><span>      setItems</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">append</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span> description</span><span class="token" style="color:#d4d4d4;background:#1e1e1e">:</span><span> value</span><span class="token" style="color:#d4d4d4">,</span><span> done</span><span class="token" style="color:#d4d4d4;background:#1e1e1e">:</span><span> </span><span class="token" style="color:#569cd6">false</span><span> </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">15</span><span>      </span><span class="token" style="color:#dcdcaa">setValue</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&quot;&quot;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">16</span><span>      e</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">preventDefault</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">17</span><span>    </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">18</span><span>    </span><span class="token" style="color:#d4d4d4">[</span><span>value</span><span class="token" style="color:#d4d4d4">]</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">19</span><span>  </span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">20</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">21</span><span>  </span><span class="token" style="color:#c586c0">return</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">22</span><span>    </span><span class="token" style="color:#d4d4d4">&lt;</span><span class="token" style="color:#569cd6">div</span><span class="token" style="color:#d4d4d4">&gt;</span><span class="token plain-text">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">23</span><span class="token plain-text">      </span><span class="token" style="color:#d4d4d4">&lt;</span><span class="token" style="color:#569cd6">h2</span><span class="token" style="color:#d4d4d4">&gt;</span><span class="token plain-text">todos</span><span class="token" style="color:#d4d4d4">&lt;/</span><span class="token" style="color:#569cd6">h2</span><span class="token" style="color:#d4d4d4">&gt;</span><span class="token plain-text">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">24</span><span class="token plain-text">      </span><span class="token" style="color:#d4d4d4">&lt;</span><span class="token" style="color:#569cd6">ul</span><span class="token" style="color:#d4d4d4">&gt;</span><span class="token plain-text">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">25</span><span class="token plain-text">        </span><span class="token" style="color:#d4d4d4">{</span><span>items</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">map</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span class="token" style="color:#9CDCFE"> done</span><span class="token" style="color:#d4d4d4">,</span><span class="token" style="color:#9CDCFE"> description </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span class="token" style="color:#9CDCFE"> index</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token arrow" style="color:#d4d4d4;background:#1e1e1e">=&gt;</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">26</span><span>          </span><span class="token" style="color:#d4d4d4">&lt;</span><span class="token" style="color:#569cd6">li</span><span class="token" style="color:#d4d4d4">&gt;</span><span class="token plain-text">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">27</span><span class="token plain-text">            </span><span class="token" style="color:#d4d4d4">&lt;</span><span class="token" style="color:#569cd6">input</span><span class="token" style="color:#569cd6">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">28</span><span class="token" style="color:#569cd6">              </span><span class="token" style="color:#9cdcfe">type</span><span class="token attr-equals" style="color:#d4d4d4">=</span><span class="token" style="color:#d4d4d4">&quot;</span><span class="token" style="color:#ce9178">checkbox</span><span class="token" style="color:#d4d4d4">&quot;</span><span class="token" style="color:#569cd6">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">29</span><span class="token" style="color:#569cd6">              </span><span class="token" style="color:#9cdcfe">onChange</span><span class="token script language-javascript script-punctuation" style="color:#569cd6">=</span><span class="token script language-javascript" style="color:#569cd6">{</span><span class="token script language-javascript" style="color:#569cd6">(</span><span class="token script language-javascript" style="color:#569cd6">)</span><span class="token script language-javascript" style="color:#569cd6"> </span><span class="token script language-javascript arrow" style="color:#569cd6">=&gt;</span><span class="token script language-javascript" style="color:#569cd6">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">30</span><span class="token script language-javascript" style="color:#569cd6">                setItems</span><span class="token script language-javascript" style="color:#569cd6">.</span><span class="token script language-javascript method property-access" style="color:#569cd6">editAt</span><span class="token script language-javascript" style="color:#569cd6">(</span><span class="token script language-javascript" style="color:#569cd6">index</span><span class="token script language-javascript" style="color:#569cd6">,</span><span class="token script language-javascript" style="color:#569cd6"> </span><span class="token script language-javascript" style="color:#569cd6">(</span><span class="token script language-javascript" style="color:#569cd6">old</span><span class="token script language-javascript" style="color:#569cd6">)</span><span class="token script language-javascript" style="color:#569cd6"> </span><span class="token script language-javascript arrow" style="color:#569cd6">=&gt;</span><span class="token script language-javascript" style="color:#569cd6"> </span><span class="token script language-javascript" style="color:#569cd6">(</span><span class="token script language-javascript" style="color:#569cd6">{</span><span class="token script language-javascript" style="color:#569cd6"> </span><span class="token script language-javascript spread" style="color:#569cd6">...</span><span class="token script language-javascript" style="color:#569cd6">old</span><span class="token script language-javascript" style="color:#569cd6">,</span><span class="token script language-javascript" style="color:#569cd6"> done</span><span class="token script language-javascript" style="color:#569cd6">:</span><span class="token script language-javascript" style="color:#569cd6"> </span><span class="token script language-javascript" style="color:#569cd6">!</span><span class="token script language-javascript" style="color:#569cd6">done </span><span class="token script language-javascript" style="color:#569cd6">}</span><span class="token script language-javascript" style="color:#569cd6">)</span><span class="token script language-javascript" style="color:#569cd6">)</span><span class="token script language-javascript" style="color:#569cd6">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">31</span><span class="token script language-javascript" style="color:#569cd6">              </span><span class="token script language-javascript" style="color:#569cd6">}</span><span class="token" style="color:#569cd6">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">32</span><span class="token" style="color:#569cd6">            </span><span class="token" style="color:#d4d4d4">/&gt;</span><span class="token plain-text">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">33</span><span class="token plain-text">            </span><span class="token" style="color:#d4d4d4">&lt;</span><span class="token" style="color:#569cd6">span</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">style</span><span class="token script language-javascript script-punctuation" style="color:#569cd6">=</span><span class="token script language-javascript" style="color:#569cd6">{</span><span class="token script language-javascript" style="color:#569cd6">{</span><span class="token script language-javascript" style="color:#569cd6"> textDecoration</span><span class="token script language-javascript" style="color:#569cd6">:</span><span class="token script language-javascript" style="color:#569cd6"> done </span><span class="token script language-javascript" style="color:#569cd6">?</span><span class="token script language-javascript" style="color:#569cd6"> </span><span class="token script language-javascript" style="color:#569cd6">&quot;line-through&quot;</span><span class="token script language-javascript" style="color:#569cd6"> </span><span class="token script language-javascript" style="color:#569cd6">:</span><span class="token script language-javascript" style="color:#569cd6"> </span><span class="token script language-javascript" style="color:#569cd6">&quot;none&quot;</span><span class="token script language-javascript" style="color:#569cd6"> </span><span class="token script language-javascript" style="color:#569cd6">}</span><span class="token script language-javascript" style="color:#569cd6">}</span><span class="token" style="color:#d4d4d4">&gt;</span><span class="token plain-text">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">34</span><span class="token plain-text">              </span><span class="token" style="color:#d4d4d4">{</span><span>description</span><span class="token" style="color:#d4d4d4">}</span><span class="token plain-text">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">35</span><span class="token plain-text">            </span><span class="token" style="color:#d4d4d4">&lt;/</span><span class="token" style="color:#569cd6">span</span><span class="token" style="color:#d4d4d4">&gt;</span><span class="token plain-text">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">36</span><span class="token plain-text">            </span><span class="token" style="color:#d4d4d4">&lt;</span><span class="token" style="color:#569cd6">button</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">onClick</span><span class="token script language-javascript script-punctuation" style="color:#569cd6">=</span><span class="token script language-javascript" style="color:#569cd6">{</span><span class="token script language-javascript" style="color:#569cd6">(</span><span class="token script language-javascript" style="color:#569cd6">)</span><span class="token script language-javascript" style="color:#569cd6"> </span><span class="token script language-javascript arrow" style="color:#569cd6">=&gt;</span><span class="token script language-javascript" style="color:#569cd6"> setItems</span><span class="token script language-javascript" style="color:#569cd6">.</span><span class="token script language-javascript method property-access" style="color:#569cd6">removeAt</span><span class="token script language-javascript" style="color:#569cd6">(</span><span class="token script language-javascript" style="color:#569cd6">index</span><span class="token script language-javascript" style="color:#569cd6">)</span><span class="token script language-javascript" style="color:#569cd6">}</span><span class="token" style="color:#d4d4d4">&gt;</span><span class="token plain-text">X</span><span class="token" style="color:#d4d4d4">&lt;/</span><span class="token" style="color:#569cd6">button</span><span class="token" style="color:#d4d4d4">&gt;</span><span class="token plain-text">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">37</span><span class="token plain-text">          </span><span class="token" style="color:#d4d4d4">&lt;/</span><span class="token" style="color:#569cd6">li</span><span class="token" style="color:#d4d4d4">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">38</span><span>        </span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">}</span><span class="token plain-text">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">39</span><span class="token plain-text">      </span><span class="token" style="color:#d4d4d4">&lt;/</span><span class="token" style="color:#569cd6">ul</span><span class="token" style="color:#d4d4d4">&gt;</span><span class="token plain-text">
</span><span class="token plain-text"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">40</span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">41</span><span class="token plain-text">      </span><span class="token" style="color:#d4d4d4">&lt;</span><span class="token" style="color:#569cd6">form</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">onSubmit</span><span class="token script language-javascript script-punctuation" style="color:#569cd6">=</span><span class="token script language-javascript" style="color:#569cd6">{</span><span class="token script language-javascript" style="color:#569cd6">submit</span><span class="token script language-javascript" style="color:#569cd6">}</span><span class="token" style="color:#d4d4d4">&gt;</span><span class="token plain-text">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">42</span><span class="token plain-text">        </span><span class="token" style="color:#d4d4d4">&lt;</span><span class="token" style="color:#569cd6">input</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">onChange</span><span class="token script language-javascript script-punctuation" style="color:#569cd6">=</span><span class="token script language-javascript" style="color:#569cd6">{</span><span class="token script language-javascript" style="color:#569cd6">(</span><span class="token script language-javascript" style="color:#569cd6">e</span><span class="token script language-javascript" style="color:#569cd6">)</span><span class="token script language-javascript" style="color:#569cd6"> </span><span class="token script language-javascript arrow" style="color:#569cd6">=&gt;</span><span class="token script language-javascript" style="color:#569cd6"> </span><span class="token script language-javascript" style="color:#569cd6">setValue</span><span class="token script language-javascript" style="color:#569cd6">(</span><span class="token script language-javascript" style="color:#569cd6">e</span><span class="token script language-javascript" style="color:#569cd6">.</span><span class="token script language-javascript property-access" style="color:#569cd6">target</span><span class="token script language-javascript" style="color:#569cd6">.</span><span class="token script language-javascript property-access" style="color:#569cd6">value</span><span class="token script language-javascript" style="color:#569cd6">)</span><span class="token script language-javascript" style="color:#569cd6">}</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">value</span><span class="token script language-javascript script-punctuation" style="color:#569cd6">=</span><span class="token script language-javascript" style="color:#569cd6">{</span><span class="token script language-javascript" style="color:#569cd6">value</span><span class="token script language-javascript" style="color:#569cd6">}</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#d4d4d4">/&gt;</span><span class="token plain-text">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">43</span><span class="token plain-text">        </span><span class="token" style="color:#d4d4d4">&lt;</span><span class="token" style="color:#569cd6">button</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">type</span><span class="token attr-equals" style="color:#d4d4d4">=</span><span class="token" style="color:#d4d4d4">&quot;</span><span class="token" style="color:#ce9178">submit</span><span class="token" style="color:#d4d4d4">&quot;</span><span class="token" style="color:#569cd6"> </span><span class="token" style="color:#9cdcfe">disabled</span><span class="token script language-javascript script-punctuation" style="color:#569cd6">=</span><span class="token script language-javascript" style="color:#569cd6">{</span><span class="token script language-javascript" style="color:#569cd6">!</span><span class="token script language-javascript" style="color:#569cd6">value</span><span class="token script language-javascript" style="color:#569cd6">}</span><span class="token" style="color:#d4d4d4">&gt;</span><span class="token plain-text">
</span><span class="token plain-text"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">44</span>          Add
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">45</span><span class="token plain-text">        </span><span class="token" style="color:#d4d4d4">&lt;/</span><span class="token" style="color:#569cd6">button</span><span class="token" style="color:#d4d4d4">&gt;</span><span class="token plain-text">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">46</span><span class="token plain-text">      </span><span class="token" style="color:#d4d4d4">&lt;/</span><span class="token" style="color:#569cd6">form</span><span class="token" style="color:#d4d4d4">&gt;</span><span class="token plain-text">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">47</span><span class="token plain-text">    </span><span class="token" style="color:#d4d4d4">&lt;/</span><span class="token" style="color:#569cd6">div</span><span class="token" style="color:#d4d4d4">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">48</span><span>  </span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">49</span><span></span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#6a9955">50</span>
</code></pre></div></div></div></div></div></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"demo":{"ts":"import { FormEvent, useCallback, useState } from \"react\";\nimport useArrayState from \"use-array-state\";\n\ninterface TodoItem {\n  readonly description: string;\n  readonly done: boolean;\n}\nexport default function Demo() {\n  const [items, setItems] = useArrayState\u003cTodoItem\u003e([]);\n  const [value, setValue] = useState(\"\");\n\n  const submit = useCallback(\n    (e: FormEvent) =\u003e {\n      setItems.append({ description: value, done: false });\n      setValue(\"\");\n      e.preventDefault();\n    },\n    [value]\n  );\n\n  return (\n    \u003cdiv\u003e\n      \u003ch2\u003etodos\u003c/h2\u003e\n      \u003cul\u003e\n        {items.map(({ done, description }, index) =\u003e (\n          \u003cli\u003e\n            \u003cinput\n              type=\"checkbox\"\n              onChange={() =\u003e\n                setItems.editAt(index, (old) =\u003e ({ ...old, done: !done }))\n              }\n            /\u003e\n            \u003cspan style={{ textDecoration: done ? \"line-through\" : \"none\" }}\u003e\n              {description}\n            \u003c/span\u003e\n            \u003cbutton onClick={() =\u003e setItems.removeAt(index)}\u003eX\u003c/button\u003e\n          \u003c/li\u003e\n        ))}\n      \u003c/ul\u003e\n\n      \u003cform onSubmit={submit}\u003e\n        \u003cinput onChange={(e) =\u003e setValue(e.target.value)} value={value} /\u003e\n        \u003cbutton type=\"submit\" disabled={!value}\u003e\n          Add\n        \u003c/button\u003e\n      \u003c/form\u003e\n    \u003c/div\u003e\n  );\n}\n","js":"import { useCallback, useState } from \"react\";\nimport useArrayState from \"use-array-state\";\nexport default function Demo() {\n    const [items, setItems] = useArrayState([]);\n    const [value, setValue] = useState(\"\");\n    const submit = useCallback((e) =\u003e {\n        setItems.append({ description: value, done: false });\n        setValue(\"\");\n        e.preventDefault();\n    }, [value]);\n    return (\u003cdiv\u003e\n      \u003ch2\u003etodos\u003c/h2\u003e\n      \u003cul\u003e\n        {items.map(({ done, description }, index) =\u003e (\u003cli\u003e\n            \u003cinput type=\"checkbox\" onChange={() =\u003e setItems.editAt(index, (old) =\u003e ({ ...old, done: !done }))}/\u003e\n            \u003cspan style={{ textDecoration: done ? \"line-through\" : \"none\" }}\u003e\n              {description}\n            \u003c/span\u003e\n            \u003cbutton onClick={() =\u003e setItems.removeAt(index)}\u003eX\u003c/button\u003e\n          \u003c/li\u003e))}\n      \u003c/ul\u003e\n\n      \u003cform onSubmit={submit}\u003e\n        \u003cinput onChange={(e) =\u003e setValue(e.target.value)} value={value}/\u003e\n        \u003cbutton type=\"submit\" disabled={!value}\u003e\n          Add\n        \u003c/button\u003e\n      \u003c/form\u003e\n    \u003c/div\u003e);\n}\n"},"source":{"ts":"import { Dispatch, SetStateAction, useMemo, useState } from \"react\";\n\nexport interface SetArrayState\u003cT\u003e extends Dispatch\u003cSetStateAction\u003cT[]\u003e\u003e {\n  /**\n   * Appends a value to the end array\n   * @param value The value to append to the array\n   */\n  append(value: T): void;\n\n  /**\n   * Inserts a value into the array at a specific position\n   * @param index The position in which to insert the value\n   * @param value The value to insert into the array\n   */\n\n  insertAt(index: number, value: T): void;\n\n  /**\n   * Prepends a vaule to the beginning of the array\n   * @param value The vaule to prepend to the array\n   */\n  prepend(value: T): void;\n\n  /**\n   * Removes the specific value from the array\n   *\n   * This relies on strict equality, and will remove all\n   * matching elements from the array\n   * @param value The value to remove\n   */\n  remove(value: T): void;\n\n  /**\n   * Removes the item at the specific index from the array\n   * @param index The position of the item to remove\n   */\n  removeAt(index: number): void;\n\n  /**\n   * Edits the element at a specific position in the array.\n   * The second parameter is a function that receives the existing item\n   * and returns the new item\n   *\n   * @param index The position in the array of the item to edit\n   * @param edit The lambda function used to edit the item\n   */\n  editAt(index: number, edit: (old: T) =\u003e T): void;\n\n  /**\n   * Replaces the item at a position in the array with a new item\n   * @param index The position in the array of the item to replace\n   * @param value The new value to replace the old value with\n   */\n  replaceAt(index: number, value: T): void;\n\n  /**\n   * Replaces (potentially several) items in the array with a new item\n   *\n   * @param oldValue The old value that should be replaced\n   * @param newValue The new value to be used instead of the old value\n   */\n  replace(oldValue: T, newValue: T): void;\n}\n\n/**\n * Create a state for an array with useful array manipulation methods\n *\n * @param initial The initial array or factory function\n * @returns A pair of state and setState\n */\nexport default function useArrayState\u003cT\u003e(\n  initial: T[] | (() =\u003e T[])\n): [T[], SetArrayState\u003cT\u003e] {\n  const [state, setState] = useState\u003cT[]\u003e(initial);\n\n  const setArrayState = useMemo\u003cSetArrayState\u003cT\u003e\u003e(() =\u003e {\n    const setValue = (v: SetStateAction\u003cT[]\u003e) =\u003e setState(v);\n\n    setValue.append = (value: T) =\u003e {\n      setState((existing) =\u003e [...existing, value]);\n    };\n\n    setValue.insertAt = (index: number, value: T) =\u003e {\n      setState((existing) =\u003e {\n        const changed = [...existing];\n        changed.splice(index, 0, value);\n        return changed;\n      });\n    };\n\n    setValue.prepend = (value: T) =\u003e {\n      setState((existing) =\u003e [value, ...existing]);\n    };\n\n    setValue.removeAt = (index: number) =\u003e {\n      setState((existing) =\u003e existing.filter((_, i) =\u003e i !== index));\n    };\n\n    setValue.remove = (value: T) =\u003e {\n      setState((existing) =\u003e existing.filter((v) =\u003e v !== value));\n    };\n\n    setValue.editAt = (index: number, edit: (old: T) =\u003e T) =\u003e {\n      setState((existing) =\u003e\n        existing.map((entry, i) =\u003e (i === index ? edit(entry) : entry))\n      );\n    };\n\n    setValue.replaceAt = (index: number, value: T) =\u003e {\n      setState((existing) =\u003e\n        existing.map((entry, i) =\u003e (i === index ? value : entry))\n      );\n    };\n\n    setValue.replace = (oldValue: T, newValue: T) =\u003e {\n      setState((existing) =\u003e\n        existing.map((entry) =\u003e (entry === oldValue ? newValue : entry))\n      );\n    };\n\n    return setValue;\n  }, []);\n\n  return [state, setArrayState];\n}\n","js":"import { useMemo, useState } from \"react\";\n/**\n * Create a state for an array with useful array manipulation methods\n *\n * @param initial The initial array or factory function\n * @returns A pair of state and setState\n */\nexport default function useArrayState(initial) {\n    const [state, setState] = useState(initial);\n    const setArrayState = useMemo(() =\u003e {\n        const setValue = (v) =\u003e setState(v);\n        setValue.append = (value) =\u003e {\n            setState((existing) =\u003e [...existing, value]);\n        };\n        setValue.insertAt = (index, value) =\u003e {\n            setState((existing) =\u003e {\n                const changed = [...existing];\n                changed.splice(index, 0, value);\n                return changed;\n            });\n        };\n        setValue.prepend = (value) =\u003e {\n            setState((existing) =\u003e [value, ...existing]);\n        };\n        setValue.removeAt = (index) =\u003e {\n            setState((existing) =\u003e existing.filter((_, i) =\u003e i !== index));\n        };\n        setValue.remove = (value) =\u003e {\n            setState((existing) =\u003e existing.filter((v) =\u003e v !== value));\n        };\n        setValue.editAt = (index, edit) =\u003e {\n            setState((existing) =\u003e existing.map((entry, i) =\u003e (i === index ? edit(entry) : entry)));\n        };\n        setValue.replaceAt = (index, value) =\u003e {\n            setState((existing) =\u003e existing.map((entry, i) =\u003e (i === index ? value : entry)));\n        };\n        setValue.replace = (oldValue, newValue) =\u003e {\n            setState((existing) =\u003e existing.map((entry) =\u003e (entry === oldValue ? newValue : entry)));\n        };\n        return setValue;\n    }, []);\n    return [state, setArrayState];\n}\n"}},"__N_SSG":true},"page":"/use-array-state","query":{},"buildId":"tZx-DCulkvJXUwQrCCljT","assetPrefix":"/react-hooks","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/react-hooks/_next/static/chunks/polyfills-83732ebf2ed7f8a1b2c7.js"></script><script src="/react-hooks/_next/static/chunks/main-f1459b68c8c907bbd233.js" async=""></script><script src="/react-hooks/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" async=""></script><script src="/react-hooks/_next/static/chunks/framework.7d91cd19cc652e9e19c9.js" async=""></script><script src="/react-hooks/_next/static/chunks/1716b4ef16106aa9110b245fed37a9e97a824466.0339978583eb908efd51.js" async=""></script><script src="/react-hooks/_next/static/chunks/pages/_app-9bbdd6d69f71956355ef.js" async=""></script><script src="/react-hooks/_next/static/chunks/d483bfa8ce43c621766e248c0ef9884ca2ca3c41.bd31260972853285d1b6.js" async=""></script><script src="/react-hooks/_next/static/chunks/55beffb9abe913b6a2709c9d07185ba46a4b42d3.c8a6d729c62df7c8ff03.js" async=""></script><script src="/react-hooks/_next/static/chunks/pages/use-array-state-4060b39abfdf4f1a1bfe.js" async=""></script><script src="/react-hooks/_next/static/tZx-DCulkvJXUwQrCCljT/_buildManifest.js" async=""></script><script src="/react-hooks/_next/static/tZx-DCulkvJXUwQrCCljT/_ssgManifest.js" async=""></script></body></html>